<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Info Board</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Jost:wght@400;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- QRCode.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #000;
            color: #e5e7eb;
            margin: 0;
            overflow: hidden; /* 全画面固定 */
            width: 100vw;
            height: 100vh;
        }
        .font-eng {
            font-family: 'Jost', sans-serif;
        }
        
        /* Full Screen Container (Responsive for 4:3 & 16:9) */
        #dashboard-container {
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            position: relative;
            overflow: hidden;
            display: grid;
            /* 左カラムを少し狭く、右カラムを広く */
            grid-template-columns: 35% 65%;
            grid-template-rows: 100%;
        }

        /* Glassmorphism Borders */
        .glass-border-right {
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Progress Bar for News */
        .progress-bar-container {
            width: 100%;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            position: absolute;
            bottom: 0;
            left: 0;
        }
        .progress-bar {
            height: 100%;
            background-color: #f97316; /* Orange-500 */
            width: 0%;
            transition: width 0.1s linear;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes pulse-red {
            0%, 100% { background-color: rgba(127, 29, 29, 0.3); border-color: rgba(239, 68, 68, 0.8); }
            50% { background-color: rgba(185, 28, 28, 0.5); border-color: rgba(252, 165, 165, 1); }
        }
        .animate-pulse-red {
            animation: pulse-red 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Clamp utilities */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
            -webkit-line-clamp: 2;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
            -webkit-line-clamp: 3;
        }
    </style>
</head>
<body>

    <!-- Main Container -->
    <div id="dashboard-container">
        
        <!-- Left Column: Clock & Weather & Mixed Status -->
        <div class="glass-border-right flex flex-col p-8 md:p-10 bg-white/5 backdrop-blur-sm relative h-full justify-between">
            
            <!-- Top Group -->
            <div>
                <!-- 1. Clock Section -->
                <div class="flex flex-col mt-2 mb-8">
                    <div id="date-display" class="text-xl md:text-2xl text-gray-400 tracking-wider mb-1 font-medium">Loading...</div>
                    
                    <div class="flex items-baseline gap-2 md:gap-3">
                        <div id="clock-display" class="text-6xl md:text-8xl font-bold font-eng tracking-tighter text-white leading-none">--:--</div>
                        <div id="seconds-display" class="text-3xl md:text-5xl font-eng text-orange-500 font-bold w-[3rem] md:w-[4rem]">--</div>
                    </div>
                </div>

                <!-- 2. Weather Section -->
                <div class="flex flex-col items-start mb-8">
                    <div class="flex items-center gap-2 mb-4 text-gray-400 text-sm">
                        <i data-lucide="map-pin" class="w-4 h-4"></i>
                        <span id="location-name">位置情報取得中...</span>
                    </div>
                    
                    <div id="weather-container" class="w-full">
                        <div class="animate-pulse flex flex-col gap-2">
                            <div class="h-16 w-16 bg-white/10 rounded-full"></div>
                            <div class="h-8 w-24 bg-white/10 rounded"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Group -->
            <div>
                <!-- 3. Status Info Slider (Train & Earthquake Mixed) -->
                <div class="w-full pt-6 border-t border-white/10">
                    <!-- Header changes dynamically -->
                    <div id="status-header" class="flex items-center gap-2 mb-3 text-gray-400 text-sm font-eng tracking-widest uppercase transition-all duration-300">
                        <i data-lucide="info" class="w-5 h-5"></i>
                        <span>Status Info</span>
                    </div>
                    
                    <!-- Content area -->
                    <div id="status-content" class="w-full min-h-[120px] relative">
                        <div class="text-sm text-gray-500">Initializing...</div>
                    </div>

                    <!-- Slide Indicator -->
                    <div id="status-indicators" class="flex gap-2 mt-4 justify-center">
                        <!-- Dots will be injected here -->
                    </div>
                </div>

                <!-- Footer decoration -->
                <div class="mt-8 flex items-center gap-4">
                    <div class="text-[10px] md:text-xs text-gray-600 font-eng tracking-[0.2em]">
                        SMART INFO BOARD V4.2 (Robust News)
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column: News Slide -->
        <div class="relative flex flex-col p-8 md:p-16 justify-center items-center bg-gradient-to-br from-gray-900 to-black h-full">
            
            <!-- News Category Label -->
            <div class="absolute top-8 left-8 md:top-10 md:left-12 flex items-center gap-4">
                <div id="news-label" class="bg-orange-600 text-white text-xs md:text-sm font-bold px-3 py-1 md:px-4 md:py-1.5 rounded-full uppercase tracking-wider">News</div>
                <div class="flex items-center gap-2 text-red-500 animate-pulse">
                    <div class="w-2 h-2 md:w-2.5 md:h-2.5 bg-red-500 rounded-full"></div>
                    <span class="text-xs md:text-sm font-bold tracking-widest">LIVE FEED</span>
                </div>
            </div>

            <!-- News Content Area -->
            <div id="news-display" class="w-full flex flex-col items-center text-center z-10 max-w-2xl">
                <div class="text-gray-500 mb-4">Loading News...</div>
            </div>

            <!-- Decorative Background Element -->
            <div class="absolute inset-0 overflow-hidden pointer-events-none opacity-20">
                <i data-lucide="globe" class="absolute -bottom-24 -right-24 w-[24rem] h-[24rem] md:w-[32rem] md:h-[32rem] text-gray-700"></i>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar-container">
                <div id="news-progress" class="progress-bar"></div>
            </div>
        </div>

    </div>

    <script>
        // Icons
        lucide.createIcons();

        // ---------------------------------------------------------
        // 1. Clock
        // ---------------------------------------------------------
        function updateClock() {
            const now = new Date();
            const days = ['日', '月', '火', '水', '木', '金', '土'];
            const months = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
            
            const dateStr = `${days[now.getDay()]}曜日, ${months[now.getMonth()]}月 ${now.getDate()}日`;
            document.getElementById('date-display').textContent = dateStr;

            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('clock-display').textContent = `${hours}:${minutes}`;

            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('seconds-display').textContent = seconds;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // ---------------------------------------------------------
        // 2. Weather
        // ---------------------------------------------------------
        let lastLat = 34.6901;
        let lastLon = 135.1955;
        let lastPlaceName = "神戸 (Default)";

        function getWeatherInfo(code) {
            if (code === 0) return { icon: 'sun', text: '快晴', color: 'text-orange-400' };
            if (code === 1) return { icon: 'sun', text: '晴れ', color: 'text-orange-300' };
            if (code === 2) return { icon: 'cloud-sun', text: '晴れ時々曇り', color: 'text-yellow-400' };
            if (code === 3) return { icon: 'cloud', text: '曇り', color: 'text-gray-400' };
            if (code === 45 || code === 48) return { icon: 'cloud-fog', text: '霧', color: 'text-gray-400' };
            if (code >= 51 && code <= 57) return { icon: 'cloud-drizzle', text: '霧雨', color: 'text-blue-300' };
            if (code >= 61 && code <= 67) return { icon: 'cloud-rain', text: '雨', color: 'text-blue-500' };
            if (code >= 71 && code <= 77) return { icon: 'snowflake', text: '雪', color: 'text-cyan-200' };
            if (code >= 80 && code <= 82) return { icon: 'cloud-rain', text: 'にわか雨', color: 'text-blue-400' };
            if (code >= 85 && code <= 86) return { icon: 'snowflake', text: 'にわか雪', color: 'text-cyan-200' };
            if (code >= 95) return { icon: 'cloud-lightning', text: '雷雨', color: 'text-purple-400' };
            return { icon: 'cloud', text: '不明', color: 'text-gray-400' };
        }

        async function fetchWeather(lat, lon, placeName) {
            const container = document.getElementById('weather-container');
            document.getElementById('location-name').textContent = placeName;
            
            try {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&timezone=auto`;
                const res = await fetch(url);
                if (!res.ok) throw new Error('Weather API Error');
                
                const data = await res.json();
                const current = data.current;
                const info = getWeatherInfo(current.weather_code);

                container.innerHTML = `
                    <div class="flex items-center gap-5 fade-in">
                        <i data-lucide="${info.icon}" class="w-16 h-16 md:w-24 md:h-24 ${info.color} stroke-1"></i>
                        <div class="flex flex-col">
                            <div class="text-5xl md:text-6xl font-eng font-bold text-white">${Math.round(current.temperature_2m)}°</div>
                            <div class="text-lg md:text-xl text-gray-400 font-eng tracking-wide mt-1">${info.text}</div>
                        </div>
                    </div>
                    <div class="mt-5 flex gap-6 text-xs md:text-sm text-gray-500 font-eng fade-in">
                        <div class="flex items-center gap-1.5"><i data-lucide="droplet" class="w-4 h-4"></i> 湿度: ${current.relative_humidity_2m}%</div>
                        <div class="flex items-center gap-1.5"><i data-lucide="wind" class="w-4 h-4"></i> 風速: ${Math.round(current.wind_speed_10m)} km/h</div>
                    </div>
                `;
                lucide.createIcons();
            } catch (e) {
                console.error(e);
                container.innerHTML = '<div class="text-red-500 text-sm">天気情報の取得に失敗しました</div>';
            }
        }

        function initWeather() {
            const handleSuccess = async (lat, lon) => {
                lastLat = lat;
                lastLon = lon;
                let placeName = "現在地";
                try {
                    const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=10&accept-language=ja`);
                    if (res.ok) {
                        const data = await res.json();
                        placeName = data.address.city || data.address.ward || data.address.town || "現在地";
                    }
                } catch (e) {}
                lastPlaceName = placeName;
                fetchWeather(lat, lon, placeName);
            };

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (p) => handleSuccess(p.coords.latitude, p.coords.longitude),
                    () => fetchWeather(lastLat, lastLon, lastPlaceName)
                );
            } else {
                fetchWeather(lastLat, lastLon, lastPlaceName);
            }
        }
        initWeather();
        // 天気情報を30分ごとに更新
        setInterval(() => fetchWeather(lastLat, lastLon, lastPlaceName), 1800000);


        // ---------------------------------------------------------
        // 3. Status Slider System (Train & Earthquake)
        // ---------------------------------------------------------
        
        // 状態管理
        const statusState = {
            trainItems: [],     // 鉄道情報の配列
            earthquakeItem: null, // 最新の地震情報（通常時）
            eewItem: null,      // 緊急地震速報（割り込み用）
            currentIndex: 0,
            timer: null,
            isEmergency: false  // EEW受信時はTrue
        };

        // --- データ取得ロジック ---

        // 3-1. 鉄道情報 (Bluesky)
        async function fetchTrainInfo() {
            const BLUESKY_RSS_URL = 'https://bsky.app/profile/did:plc:xgoesh4b2eyay7mzzqykm2vd/rss';
            const API_URL = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(BLUESKY_RSS_URL)}`;
            
            try {
                const res = await fetch(API_URL);
                const data = await res.json();
                
                if (data.status === 'ok' && data.items.length > 0) {
                    // 最新20件を取得
                    statusState.trainItems = data.items.slice(0, 20).map(item => ({
                        type: 'train',
                        content: item.description.replace(/<[^>]+>/g, '').trim(),
                        time: new Date(item.pubDate.replace(" ", "T") + "Z").toLocaleTimeString('ja-JP', { hour: '2-digit', minute: '2-digit' }),
                        title: 'Train Status (DelaInfo)',
                        icon: 'train-front',
                        color: 'text-sky-500',
                        bgClass: 'bg-sky-900/30 border-sky-500',
                        textClass: 'text-sky-100'
                    }));
                } else {
                    statusState.trainItems = [{
                        type: 'train',
                        content: '現在、新しい運行情報はありません',
                        time: '--:--',
                        title: 'Train Status',
                        icon: 'train-front',
                        color: 'text-gray-500',
                        bgClass: 'bg-gray-800/50 border-gray-600',
                        textClass: 'text-gray-300'
                    }];
                }
            } catch (e) {
                console.warn("Train info fetch failed", e);
            }
        }

        // 3-2. 地震情報 (HTTP - 履歴用)
        async function fetchEarthquakeHistory() {
            const API_URL = 'https://api.p2pquake.net/v2/history?codes=551&limit=1';
            const shindoMap = { 10: "1", 20: "2", 30: "3", 40: "4", 45: "5弱", 50: "5強", 55: "6弱", 60: "6強", 70: "7" };

            try {
                const res = await fetch(API_URL);
                const data = await res.json();

                if (data && data.length > 0) {
                    const quake = data[0];
                    const time = new Date(quake.time).toLocaleString('ja-JP', { month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' });
                    const hypocenter = quake.hypocenter.name;
                    const maxScale = quake.points.reduce((max, point) => Math.max(max, point.scale), 0);
                    const displayScale = quake.maxScale ? shindoMap[quake.maxScale] : (shindoMap[maxScale] || "-");

                    statusState.earthquakeItem = {
                        type: 'earthquake',
                        content: `震源: ${hypocenter}`,
                        subContent: `最大震度 ${displayScale}`,
                        time: time + " 発生",
                        title: 'Earthquake Info',
                        icon: 'activity',
                        color: 'text-red-500',
                        bgClass: 'bg-red-900/20 border-red-900/50',
                        textClass: 'text-white',
                        isHighAlert: false
                    };
                }
            } catch (e) {
                console.warn("Quake history fetch failed", e);
            }
        }

        // 3-3. リアルタイム地震情報 (WebSocket - P2P Quake)
        function connectP2PQuakeWS() {
            const ws = new WebSocket('wss://api.p2pquake.net/v2/ws');

            ws.onopen = () => {
                console.log('Connected to P2P Quake WS');
            };

            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                
                if (data.code === 551) {
                    fetchEarthquakeHistory();
                }

                if (data.code === 554) {
                    console.log("EEW Received!", data);
                    if (data.cancelled) {
                        statusState.isEmergency = false;
                        statusState.eewItem = null;
                        renderStatusSlide();
                    } else {
                        statusState.isEmergency = true;
                        statusState.eewItem = {
                            type: 'eew',
                            content: `緊急地震速報を受信しました`,
                            subContent: `強い揺れに警戒してください`,
                            time: 'JUST NOW',
                            title: 'EMERGENCY ALERT',
                            icon: 'alert-triangle',
                            color: 'text-white',
                            bgClass: 'bg-red-600 border-red-500 animate-pulse-red',
                            textClass: 'text-white font-bold',
                            isHighAlert: true
                        };
                        renderStatusSlide();
                    }
                }
            };

            ws.onclose = () => {
                setTimeout(connectP2PQuakeWS, 10000);
            };
        }

        // --- スライド表示ロジック ---

        function getAllItems() {
            if (statusState.isEmergency && statusState.eewItem) {
                return [statusState.eewItem];
            }
            let items = [...statusState.trainItems];
            if (statusState.earthquakeItem) {
                items.push(statusState.earthquakeItem);
            }
            return items;
        }

        function renderStatusSlide() {
            const container = document.getElementById('status-content');
            const header = document.getElementById('status-header');
            const indicators = document.getElementById('status-indicators');

            const items = getAllItems();
            if (items.length === 0) return;

            const index = statusState.isEmergency ? 0 : (statusState.currentIndex % items.length);
            const item = items[index];

            header.innerHTML = `
                <i data-lucide="${item.icon}" class="w-5 h-5 transition-colors duration-300 ${item.color}"></i>
                <span>${item.title}</span>
            `;

            let contentHtml = '';
            
            if (item.type === 'earthquake' || item.type === 'eew') {
                contentHtml = `
                    <div class="${item.bgClass} border rounded-lg p-5 flex flex-col justify-center min-h-[120px] fade-in shadow-lg">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm ${item.isHighAlert ? 'text-red-100' : 'text-gray-400'}">${item.time}</span>
                            ${item.isHighAlert ? '<span class="bg-white text-red-600 text-xs px-2 py-0.5 rounded font-bold">ALERT</span>' : ''}
                        </div>
                        <div class="${item.textClass} text-base leading-tight">
                            ${item.content}
                        </div>
                        ${item.subContent ? `<div class="text-3xl font-bold mt-2 ${item.textClass}">${item.subContent}</div>` : ''}
                    </div>
                `;
            } else {
                contentHtml = `
                    <div class="${item.bgClass} border-l-4 p-5 rounded-r min-h-[120px] flex flex-col justify-center fade-in">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-xs text-gray-400 font-bold tracking-wide">INFO</span>
                            <span class="text-xs text-gray-400">${item.time}</span>
                        </div>
                        <div class="${item.textClass} text-base leading-relaxed line-clamp-3">
                            ${item.content}
                        </div>
                    </div>
                `;
            }
            container.innerHTML = contentHtml;

            if (statusState.isEmergency) {
                indicators.innerHTML = '';
            } else {
                indicators.innerHTML = items.map((_, i) => `
                    <div class="w-2 h-2 rounded-full transition-colors duration-300 ${i === index ? 'bg-orange-500' : 'bg-gray-700'}"></div>
                `).join('');
            }

            lucide.createIcons();
        }

        function startStatusSlide() {
            renderStatusSlide();
            
            setInterval(() => {
                if (!statusState.isEmergency) {
                    statusState.currentIndex++;
                    renderStatusSlide();
                }
            }, 5000);
        }

        async function initStatusBoard() {
            await Promise.all([fetchTrainInfo(), fetchEarthquakeHistory()]);
            connectP2PQuakeWS();
            startStatusSlide();
        }

        // 運行情報を5分ごとに更新
        setInterval(fetchTrainInfo, 300000);

        initStatusBoard();


        // ---------------------------------------------------------
        // 4. News (Slide & QR Code) - Robust Version
        // ---------------------------------------------------------
        
        // 優先度順のRSSリスト (NHK -> Yahoo)
        const RSS_URLS = [
            'https://www.nhk.or.jp/rss/news/cat0.xml',
            'https://news.yahoo.co.jp/rss/topics/top-picks.xml'
        ];
        
        let newsItems = [];
        let currentNewsIndex = 0;
        const SLIDE_DURATION = 8000;

        async function fetchNews(retryIndex = 0) {
            // 全てのソースを試してダメだった場合
            if (retryIndex >= RSS_URLS.length) {
                document.getElementById('news-display').innerHTML = '<div class="text-gray-500">ニュースを取得できませんでした<br><span class="text-xs">(Retrying later...)</span></div>';
                return;
            }

            const rssUrl = RSS_URLS[retryIndex];
            const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
            
            try {
                const res = await fetch(apiUrl);
                const data = await res.json();
                
                if (data.status === 'ok' && data.items.length > 0) {
                    // データ整形
                    newsItems = data.items.map(item => ({
                        ...item,
                        cleanDescription: (item.description || '').replace(/<[^>]+>/g, '').trim().substring(0, 150) + '...',
                        source: retryIndex === 0 ? 'NHK News' : 'Yahoo! News'
                    }));

                    // ラベル更新
                    const label = document.getElementById('news-label');
                    if(label) label.textContent = newsItems[0].source;

                    // スライドショー開始判定
                    if (!window.newsInterval) {
                        startNewsSlide();
                    }
                } else {
                    // statusがokでない場合は次へ
                    throw new Error("API Error");
                }
            } catch (e) {
                console.warn(`Fetch failed for ${rssUrl}`, e);
                // 次のURLでリトライ
                fetchNews(retryIndex + 1);
            }
        }

        function convertUtcToJstTime(pubDate) {
            // "YYYY-MM-DD HH:mm:ss" -> ISO -> Date
            const utcDateStr = pubDate.replace(" ", "T") + "Z";
            return new Date(utcDateStr).toLocaleTimeString('ja-JP', { 
                hour: '2-digit', minute: '2-digit', hour12: false, timeZone: 'Asia/Tokyo' 
            });
        }

        function showNews(index) {
            if (!newsItems || newsItems.length === 0) return;
            const safeIndex = index % newsItems.length;
            
            const container = document.getElementById('news-display');
            const item = newsItems[safeIndex];
            const pubTime = convertUtcToJstTime(item.pubDate);

            container.innerHTML = `
                <div class="fade-in flex flex-col items-center w-full">
                    <div class="mb-4 text-orange-400 font-eng text-sm tracking-widest">${pubTime} 更新</div>
                    <h2 class="text-4xl font-bold text-white leading-tight mb-6 min-h-[120px] flex items-center justify-center line-clamp-3">
                        ${item.title}
                    </h2>
                    <p class="text-lg text-gray-300 mb-8 line-clamp-3 max-w-3xl">
                        ${item.cleanDescription}
                    </p>
                    <div class="flex items-center gap-8 scale-110">
                        <div class="bg-white p-3 rounded-lg shadow-lg">
                            <div id="qrcode"></div>
                        </div>
                        <div class="flex flex-col text-left">
                            <div class="text-gray-500 text-sm mt-2 font-eng tracking-widest uppercase">記事を読む</div>
                            <div class="text-white text-xl font-bold">QRコードをスキャン</div>
                        </div>
                    </div>
                </div>
            `;
            const qrContainer = document.getElementById("qrcode");
            qrContainer.innerHTML = "";
            new QRCode(qrContainer, {
                text: item.link, width: 120, height: 120, colorDark : "#000000", colorLight : "#ffffff", correctLevel : QRCode.CorrectLevel.L
            });
        }

        function startNewsSlide() {
            if (newsItems.length === 0) return;
            showNews(currentNewsIndex);
            resetProgressBar();
            
            if (window.newsInterval) clearInterval(window.newsInterval);
            
            window.newsInterval = setInterval(() => {
                currentNewsIndex = (currentNewsIndex + 1) % newsItems.length;
                showNews(currentNewsIndex);
                resetProgressBar();
            }, SLIDE_DURATION);
        }

        function resetProgressBar() {
            const bar = document.getElementById('news-progress');
            bar.style.transition = 'none';
            bar.style.width = '0%';
            
            setTimeout(() => {
                bar.style.transition = `width ${SLIDE_DURATION}ms linear`;
                bar.style.width = '100%';
            }, 50);
        }

        // 初回実行
        fetchNews();
        // ニュースを15分ごとに更新
        setInterval(() => fetchNews(0), 900000);

    </script>
</body>
</html>

